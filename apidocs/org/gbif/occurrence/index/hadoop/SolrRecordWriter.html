<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Tue Jan 07 21:49:42 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>SolrRecordWriter (Occurrence 0.16-SNAPSHOT API)</title>
<meta name="date" content="2014-01-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SolrRecordWriter (Occurrence 0.16-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SolrRecordWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrOutputFormat.html" title="class in org.gbif.occurrence.index.hadoop"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrReducer.html" title="class in org.gbif.occurrence.index.hadoop"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" target="_top">Frames</a></li>
<li><a href="SolrRecordWriter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.gbif.occurrence.index.hadoop</div>
<h2 title="Class SolrRecordWriter" class="title">Class SolrRecordWriter&lt;K,V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.mapreduce.RecordWriter&lt;K,V&gt;</li>
<li>
<ul class="inheritance">
<li>org.gbif.occurrence.index.hadoop.SolrRecordWriter&lt;K,V&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.78">SolrRecordWriter</a>&lt;K,V&gt;
extends org.apache.hadoop.mapreduce.RecordWriter&lt;K,V&gt;</pre>
<div class="block">Instantiate a record writer that will build a Solr index.
 A zip file containing the solr config and additional libraries is expected to
 be passed via the distributed cache. The incoming written records are
 converted via the specified document converter, and written to the index in
 batches. When the job is done, the close copies the index to the destination
 output file system. <h2>Configuration Parameters</h2>
 <ul>
 <li>solr.record.writer.batch.size - the number of documents in a batch that is sent to the indexer.</li>
 <li>mapred.task.id - To build the unique temporary index directory file name.</li>
 <li>solr.output.format.setup - <code>SolrOutputFormat.SETUP_OK</code> The path to the configuration zip file.</li>
 <li> <code>SolrOutputFormat.zipName</code> - The file name of the configuration file.</li>
 <li>solr.document.converter.class - <code>SolrDocumentConverter.CONVERTER_NAME_KEY</code> the class used to convert the
 <a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#write(K, V)"><code>write(K, V)</code></a> key, values into a <code>SolrInputDocument</code>. Set via <a href="../../../../../org/gbif/occurrence/index/hadoop/SolrDocumentConverter.html" title="class in org.gbif.occurrence.index.hadoop"><code>SolrDocumentConverter</code></a>.
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#allowedConfigDirectories">allowedConfigDirectories</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#requiredConfigDirectories">requiredConfigDirectories</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#SolrRecordWriter(org.apache.hadoop.mapreduce.TaskAttemptContext)">SolrRecordWriter</a></strong>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#addReducerContext(org.apache.hadoop.mapreduce.Reducer.Context)">addReducerContext</a></strong>(org.apache.hadoop.mapreduce.Reducer.Context&nbsp;context)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#close(org.apache.hadoop.mapreduce.TaskAttemptContext)">close</a></strong>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#getAllowedConfigDirectories()">getAllowedConfigDirectories</a></strong>()</code>
<div class="block">Return the list of directories names that may be included in the
 configuration data passed to the tasks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#incrementCounter(org.apache.hadoop.mapreduce.TaskID, java.lang.String, java.lang.String, long)">incrementCounter</a></strong>(org.apache.hadoop.mapreduce.TaskID&nbsp;taskId,
                                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;groupName,
                                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;counterName,
                                long&nbsp;incr)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#isClosing()">isClosing</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#isRequiredConfigDirectory(java.lang.String)">isRequiredConfigDirectory</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;directory)</code>
<div class="block">check if the passed in directory is required to be present in the
 configuration data set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#setClosing(boolean)">setClosing</a></strong>(boolean&nbsp;closing)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#write(K, V)">write</a></strong>(<a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" title="type parameter in SolrRecordWriter">K</a>&nbsp;key,
          <a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" title="type parameter in SolrRecordWriter">V</a>&nbsp;value)</code>
<div class="block">Write a record.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#zipDirectory(org.apache.hadoop.conf.Configuration, java.util.zip.ZipOutputStream, java.lang.String, java.lang.String, org.apache.hadoop.fs.Path)">zipDirectory</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/util/zip/ZipOutputStream.html?is-external=true" title="class or interface in java.util.zip">ZipOutputStream</a>&nbsp;zos,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;baseName,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;root,
                        org.apache.hadoop.fs.Path&nbsp;itemToZip)</code>
<div class="block">Write a file to a zip output stream, removing leading path name components
 from the actual file name when creating the zip file entry.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="allowedConfigDirectories">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowedConfigDirectories</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; <a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.82">allowedConfigDirectories</a></pre>
</li>
</ul>
<a name="requiredConfigDirectories">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>requiredConfigDirectories</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; <a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.85">requiredConfigDirectories</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SolrRecordWriter(org.apache.hadoop.mapreduce.TaskAttemptContext)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SolrRecordWriter</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.130">SolrRecordWriter</a>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addReducerContext(org.apache.hadoop.mapreduce.Reducer.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addReducerContext</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.218">addReducerContext</a>(org.apache.hadoop.mapreduce.Reducer.Context&nbsp;context)</pre>
</li>
</ul>
<a name="getAllowedConfigDirectories()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllowedConfigDirectories</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.231">getAllowedConfigDirectories</a>()</pre>
<div class="block">Return the list of directories names that may be included in the
 configuration data passed to the tasks.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>an UnmodifiableList of directory names</dd></dl>
</li>
</ul>
<a name="incrementCounter(org.apache.hadoop.mapreduce.TaskID, java.lang.String, java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementCounter</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.235">incrementCounter</a>(org.apache.hadoop.mapreduce.TaskID&nbsp;taskId,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;groupName,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;counterName,
                    long&nbsp;incr)</pre>
</li>
</ul>
<a name="isRequiredConfigDirectory(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRequiredConfigDirectory</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.249">isRequiredConfigDirectory</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;directory)</pre>
<div class="block">check if the passed in directory is required to be present in the
 configuration data set.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>directory</code> - The directory to check</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the directory is required.</dd></dl>
</li>
</ul>
<a name="zipDirectory(org.apache.hadoop.conf.Configuration, java.util.zip.ZipOutputStream, java.lang.String, java.lang.String, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zipDirectory</h4>
<pre>public static&nbsp;int&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.272">zipDirectory</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/util/zip/ZipOutputStream.html?is-external=true" title="class or interface in java.util.zip">ZipOutputStream</a>&nbsp;zos,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;baseName,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;root,
               org.apache.hadoop.fs.Path&nbsp;itemToZip)
                        throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Write a file to a zip output stream, removing leading path name components
 from the actual file name when creating the zip file entry.
 The entry placed in the zip file is <code>baseName</code>/ <code>relativePath</code>, where
 <code>relativePath</code> is constructed
 by removing a leading <code>root</code> from the path for <code>itemToZip</code>.
 If <code>itemToZip</code> is an empty directory, it is ignored. If <code>itemToZip</code> is a directory, the
 contents of the directory are
 added recursively.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zos</code> - The zip output stream</dd><dd><code>baseName</code> - The base name to use for the file name entry in the zip
        file</dd><dd><code>root</code> - The path to remove from <code>itemToZip</code> to make a
        relative path name</dd><dd><code>itemToZip</code> - The path to the file to be added to the zip file</dd>
<dt><span class="strong">Returns:</span></dt><dd>the number of entries added</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="close(org.apache.hadoop.mapreduce.TaskAttemptContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.371">close</a>(org.apache.hadoop.mapreduce.TaskAttemptContext&nbsp;context)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>close</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.RecordWriter&lt;<a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" title="type parameter in SolrRecordWriter">K</a>,<a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" title="type parameter in SolrRecordWriter">V</a>&gt;</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="write(java.lang.Object,java.lang.Object)">
<!--   -->
</a><a name="write(K, V)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.409">write</a>(<a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" title="type parameter in SolrRecordWriter">K</a>&nbsp;key,
         <a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" title="type parameter in SolrRecordWriter">V</a>&nbsp;value)
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Write a record. This method accumulates records in to a batch, and when <a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#batchSize"><code>batchSize</code></a> items are present
 flushes it to the indexer. The writes
 can take a substantial amount of time, depending on <a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#batchSize"><code>batchSize</code></a>. If
 there is heavy disk contention the writes may take more than the 600 second
 default timeout.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>write</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.RecordWriter&lt;<a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" title="type parameter in SolrRecordWriter">K</a>,<a href="../../../../../org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" title="type parameter in SolrRecordWriter">V</a>&gt;</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isClosing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClosing</h4>
<pre>protected&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.446">isClosing</a>()</pre>
</li>
</ul>
<a name="setClosing(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setClosing</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../../src-html/org/gbif/occurrence/index/hadoop/SolrRecordWriter.html#line.450">setClosing</a>(boolean&nbsp;closing)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SolrRecordWriter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrOutputFormat.html" title="class in org.gbif.occurrence.index.hadoop"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/gbif/occurrence/index/hadoop/SolrReducer.html" title="class in org.gbif.occurrence.index.hadoop"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/gbif/occurrence/index/hadoop/SolrRecordWriter.html" target="_top">Frames</a></li>
<li><a href="SolrRecordWriter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.gbif.org">Global Biodiversity Information Facility</a>. All rights reserved.</small></p>
</body>
</html>
