<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Tue Jan 07 16:57:45 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>KeyPersistenceService (Occurrence 0.16-SNAPSHOT API)</title>
<meta name="date" content="2014-01-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KeyPersistenceService (Occurrence 0.16-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KeyPersistenceService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyBuilder.html" title="interface in org.gbif.occurrencestore.persistence.keygen"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/OccurrenceKeyBuilder.html" title="class in org.gbif.occurrencestore.persistence.keygen"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html" target="_top">Frames</a></li>
<li><a href="KeyPersistenceService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.gbif.occurrencestore.persistence.keygen</div>
<h2 title="Interface KeyPersistenceService" class="title">Interface KeyPersistenceService&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/AbstractHBaseKeyPersistenceService.html" title="class in org.gbif.occurrencestore.persistence.keygen">AbstractHBaseKeyPersistenceService</a>, <a href="../../../../../org/gbif/occurrencestore/persistence/keygen/HBaseLockingKeyService.html" title="class in org.gbif.occurrencestore.persistence.keygen">HBaseLockingKeyService</a>, <a href="../../../../../org/gbif/occurrencestore/persistence/keygen/ZkLockingKeyService.html" title="class in org.gbif.occurrencestore.persistence.keygen">ZkLockingKeyService</a></dd>
</dl>
<hr>
<br>
<pre>public interface <a href="../../../../../src-html/org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#line.15">KeyPersistenceService</a>&lt;T&gt;</pre>
<div class="block">Implementations of this interface will be responsible for finding, generating and deleting the secondary index
 keys that are used to lookup entries by their unique identifiers. The initial target implementation is for
 occurrence records looked up by their <a href="../../../../../org/gbif/occurrencestore/common/model/UniqueIdentifier.html" title="interface in org.gbif.occurrencestore.common.model"><code>UniqueIdentifier</code></a>. The type
 parameter refers to the type of the entry key in the primary index (e.g. for occurrences this is an integer). It's
 expected that this class will move outside of occurrence persistence at some point.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#deleteKey(T, java.lang.String)">deleteKey</a></strong>(<a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html" title="type parameter in KeyPersistenceService">T</a>&nbsp;key,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</code>
<div class="block">Delete all existing indexes for the given key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#deleteKeyByUniques(java.util.Set, java.lang.String)">deleteKeyByUniques</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;uniqueStrings,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</code>
<div class="block">Delete the entries in the secondary index corresponding to the passed in uniqueStrings and scope (e.g.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/gbif/occurrencestore/persistence/api/KeyLookupResult.html" title="class in org.gbif.occurrencestore.persistence.api">KeyLookupResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#findKey(java.util.Set, java.lang.String)">findKey</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;uniqueStrings,
              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</code>
<div class="block">Given the strings that are unique within the given scope, find the key for the single record that matches all of
 the given strings.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html" title="type parameter in KeyPersistenceService">T</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#findKeysByScope(java.lang.String)">findKeysByScope</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</code>
<div class="block">Find the keys for all records within the given scope (e.g.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/gbif/occurrencestore/persistence/api/KeyLookupResult.html" title="class in org.gbif.occurrencestore.persistence.api">KeyLookupResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#generateKey(java.util.Set, java.lang.String)">generateKey</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;uniqueStrings,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</code>
<div class="block">Generates a new key for the given unique strings and their scope.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="findKey(java.util.Set, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findKey</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
<a href="../../../../../org/gbif/occurrencestore/persistence/api/KeyLookupResult.html" title="class in org.gbif.occurrencestore.persistence.api">KeyLookupResult</a>&nbsp;<a href="../../../../../src-html/org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#line.27">findKey</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;uniqueStrings,
                               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</pre>
<div class="block">Given the strings that are unique within the given scope, find the key for the single record that matches all of
 the given strings.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uniqueStrings</code> - strings unique within the scope</dd><dd><code>scope</code> - a scope for the strings' uniqueness (e.g. a dataset key/name)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the result of the lookup - the key within the KeyLookupResult or null if it is not found</dd></dl>
</li>
</ul>
<a name="findKeysByScope(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findKeysByScope</h4>
<pre><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html" title="type parameter in KeyPersistenceService">T</a>&gt;&nbsp;<a href="../../../../../src-html/org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#line.36">findKeysByScope</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</pre>
<div class="block">Find the keys for all records within the given scope (e.g. all occurrence keys for a dataset).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>scope</code> - a scope for the strings' uniqueness (e.g. a dataset key/name)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the result of the lookup - a List with 0 or more keys of type T</dd></dl>
</li>
</ul>
<a name="generateKey(java.util.Set, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateKey</h4>
<pre><a href="../../../../../org/gbif/occurrencestore/persistence/api/KeyLookupResult.html" title="class in org.gbif.occurrencestore.persistence.api">KeyLookupResult</a>&nbsp;<a href="../../../../../src-html/org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#line.47">generateKey</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;uniqueStrings,
                          <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</pre>
<div class="block">Generates a new key for the given unique strings and their scope. If an existing key is found for these strings
 that is returned instead. The <a href="../../../../../org/gbif/occurrencestore/persistence/api/KeyLookupResult.html" title="class in org.gbif.occurrencestore.persistence.api"><code>KeyLookupResult</code></a> will indicate whether the key was generated or not.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uniqueStrings</code> - strings unique within the scope</dd><dd><code>scope</code> - a scope for the strings' uniqueness (e.g. a dataset key/name)</dd>
<dt><span class="strong">Returns:</span></dt><dd>the result of the lookup which will contain the key and whether it was found or generated</dd></dl>
</li>
</ul>
<a name="deleteKey(java.lang.Object,java.lang.String)">
<!--   -->
</a><a name="deleteKey(T, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteKey</h4>
<pre>void&nbsp;<a href="../../../../../src-html/org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#line.55">deleteKey</a>(<a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html" title="type parameter in KeyPersistenceService">T</a>&nbsp;key,
             <a href="http://docs.oracle.com/javase/6/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
             <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</pre>
<div class="block">Delete all existing indexes for the given key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the entry for which to delete secondary indexes</dd><dd><code>scope</code> - search only within the given scope (e.g. dataset) for the given key</dd></dl>
</li>
</ul>
<a name="deleteKeyByUniques(java.util.Set, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteKeyByUniques</h4>
<pre>void&nbsp;<a href="../../../../../src-html/org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html#line.64">deleteKeyByUniques</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;uniqueStrings,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;scope)</pre>
<div class="block">Delete the entries in the secondary index corresponding to the passed in uniqueStrings and scope (e.g. delete
 occurrence lookup by triplet and dataset).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>uniqueStrings</code> - strings unique within the scope</dd><dd><code>scope</code> - a scope for the strings' uniqueness (e.g. a dataset key/name)</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KeyPersistenceService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/KeyBuilder.html" title="interface in org.gbif.occurrencestore.persistence.keygen"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/gbif/occurrencestore/persistence/keygen/OccurrenceKeyBuilder.html" title="class in org.gbif.occurrencestore.persistence.keygen"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/gbif/occurrencestore/persistence/keygen/KeyPersistenceService.html" target="_top">Frames</a></li>
<li><a href="KeyPersistenceService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.gbif.org">Global Biodiversity Information Facility</a>. All rights reserved.</small></p>
</body>
</html>
